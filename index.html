<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Medicine Dietary AI</title>
  <style>
    body { font-family: sans-serif; padding: 2rem; max-width: 600px; margin: auto; }
    input, button { padding: .5rem; font-size: 1rem; }
    #output { margin-top: 1.5rem; }
  </style>
</head>
<body>
  <h1>Medicine Dietary Checker</h1>
  <input id="drugName" type="text" placeholder="Enter medicine name…" />
  <button id="checkBtn">Check</button>
  <div id="output"></div>

  <script>
    const API_URL = 'https://www.britelink.io/api/v1/food_interactions';
    const API_KEY = 'YOUR_BRITELINK_API_KEY'; // ← replace

    document.getElementById('checkBtn').onclick = async () => {
      const drug = document.getElementById('drugName').value.trim();
      const out = document.getElementById('output');
      out.textContent = drug ? 'Searching...' : 'Please enter a medicine name.';
      if (!drug) return;

      try {
        const url = new URL(API_URL);
        url.searchParams.set('n', drug);

        const resp = await fetch(url, {
          headers: { Authorization: `Bearer ${API_KEY}` }
        });
        if (resp.status === 404) {
          out.textContent = 'No dietary info found. Check spelling?';
          return;
        }
        if (!resp.ok) throw new Error(resp.statusText);

        const { foodInteractions } = await resp.json();
        if (foodInteractions?.length > 0) {
          const info = foodInteractions[0];
          out.innerHTML = `<h2>${info.drugName}</h2>` +
            info.interactions.map(i => `<p>• ${i.advice}</p>`).join('');
        } else {
          out.textContent = 'No dietary restrictions found.';
        }
      } catch (e) {
        out.textContent = 'Error: ' + e.message;
      }
    };
  </script>
</body>
</html>
